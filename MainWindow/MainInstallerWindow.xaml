<Window x:Class="UniShadeInstaller.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="UniShade" Height="450" Width="800"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        ResizeMode="NoResize" MouseDown="Window_MouseDown"
        UseLayoutRounding="True">

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome GlassFrameThickness="0" CornerRadius="60" CaptionHeight="0"/>
    </shell:WindowChrome.WindowChrome>

    <Window.Resources>
        <Style x:Key="ModernBtn" TargetType="Button">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="12" Padding="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DarkBtn" TargetType="Button">
            <Setter Property="Background" Value="#222"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="10" Padding="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border CornerRadius="60" Background="#121212" ClipToBounds="True">
        <Grid>
            <Grid x:Name="StartView" Visibility="Visible">
                <Image Stretch="UniformToFill">
                    <Image.Source>
                        <BitmapImage UriSource="https://i.ibb.co/gLLBfv3K/Screenshot-2025-12-16-164322.png" CacheOption="OnLoad"/>
                    </Image.Source>
                    <Image.Effect>
                        <BlurEffect Radius="5"/>
                    </Image.Effect>
                </Image>
                <Border Background="#99000000"/>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="UniShade" FontSize="54" FontWeight="ExtraBold" Foreground="White" Margin="0,0,0,30"/>
                    <Button Content="Download UniShade" Click="GoToInstallPage_Click" Style="{StaticResource ModernBtn}" Width="240" Height="55" Margin="0,10"/>
                    <Button Content="Uninstall" Click="UninstallBtn_Click" Style="{StaticResource DarkBtn}" Width="240" Height="40"/>
                </StackPanel>
            </Grid>

            <Grid x:Name="InstallView" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1.2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0" ClipToBounds="True">
                    <Image Stretch="UniformToFill" RenderTransformOrigin="0.5,0.5">
                        <Image.Source>
                            <BitmapImage UriSource="https://i.ibb.co/TxRpF2Bs/Screenshot-2025-12-16-165526.png" CacheOption="OnLoad"/>
                        </Image.Source>
                        <Image.RenderTransform>
                            <ScaleTransform ScaleX="1.5" ScaleY="1.5"/>
                        </Image.RenderTransform>
                        <Image.Effect>
                            <BlurEffect Radius="5"/>
                        </Image.Effect>
                    </Image>
                </Grid>
                <Grid Grid.Column="1" Background="Black">
                    <StackPanel VerticalAlignment="Center" Margin="40">
                        <TextBlock x:Name="StatusText" 
                                   Text="Click install to install UniShade" 
                                   Foreground="White" 
                                   FontSize="16" 
                                   FontWeight="Bold" 
                                   TextWrapping="Wrap" 
                                   Margin="0,0,0,20">
                            <TextBlock.Effect>
                                <DropShadowEffect BlurRadius="5" ShadowDepth="2" Opacity="0.5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <ProgressBar x:Name="InstallProgressBar" Height="10" Visibility="Collapsed" Maximum="100" Background="#222" Foreground="White" BorderThickness="0"/>

                        <TextBlock x:Name="PercentageText" 
                                   Text="0%" 
                                   Foreground="White" 
                                   FontWeight="Bold" 
                                   FontSize="16" 
                                   HorizontalAlignment="Right" 
                                   Visibility="Collapsed" 
                                   Margin="0,5,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="40">
                        <Button x:Name="RealInstallBtn" Content="Install" Click="InstallBtn_Click" Style="{StaticResource ModernBtn}" Width="110" Height="45" Margin="0,0,10,0"/>
                        <Button Content="Back" Click="BackButton_Click" Style="{StaticResource DarkBtn}" Width="80" Height="45"/>
                    </StackPanel>
                </Grid>
            </Grid>

            <Grid x:Name="FinishView" Visibility="Collapsed">
                <Image Stretch="UniformToFill">
                    <Image.Source>
                        <BitmapImage UriSource="https://i.ibb.co/gLLBfv3K/Screenshot-2025-12-16-164322.png" CacheOption="OnLoad"/>
                    </Image.Source>
                    <Image.Effect>
                        <BlurEffect Radius="5"/>
                    </Image.Effect>
                </Image>
                <Border Background="#CC111111"/>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="Complete!" FontSize="32" FontWeight="Bold" Foreground="White" Margin="0,0,0,25"/>
                    <CheckBox x:Name="ChkRoblox" Content="Open Roblox Profile" Foreground="White" IsChecked="True" Margin="5"/>
                    <CheckBox x:Name="ChkYoutube" Content="Subscribe on YouTube" Foreground="White" IsChecked="True" Margin="5"/>
                    <CheckBox x:Name="ChkDiscord" Content="Join Discord" Foreground="White" IsChecked="True" Margin="5"/>
                    <CheckBox x:Name="ChkSource" Content="View Open Source" Foreground="White" IsChecked="True" Margin="5"/>

                    <Button Content="Finish" Click="FinishBtn_Click" Style="{StaticResource ModernBtn}" Width="180" Height="50" Margin="0,25,0,0"/>
                </StackPanel>
            </Grid>

            <Button Content="âœ•" Click="CloseBtn_Click" Foreground="White" Background="#333" Width="35" Height="35" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="30" Cursor="Hand">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="BtnBorder" Background="{TemplateBinding Background}" CornerRadius="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="BtnBorder" Property="Background" Value="#E81123"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Border>
</Window>